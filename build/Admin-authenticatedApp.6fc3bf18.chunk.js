"use strict";(self.webpackChunkcmssample=self.webpackChunkcmssample||[]).push([[801],{30347:(K,I,n)=>{n.r(I),n.d(I,{default:()=>_t});var e=n(27279),o=n(57537),W=n(98934),Z=n.n(W),C=n(40464);const A={i8:"4.14.3"};var P=n(92807),O=n(96854),D=n(1821),b=n(2637),p=n(10701),f=n(21395),v=n(93415),ae=n(4987),se=n(2878),oe=n(10989),be=n(77804),ke=n(39708),w=n(48102),Q=n(95066),ie=n(71563),F=n(61020),T=n(72450),Y=n(47853),Oe=n(66858);const Ne=(0,T.default)(D.g)`
  height: ${32/16}rem;
  width: ${32/16}rem;

  > label,
  ~ input {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  > label {
    color: inherit;
    cursor: pointer;
    padding: ${({theme:t})=>t.spaces[2]};
    text-align: center;
    vertical-align: middle;
  }

  &:hover,
  &:focus-within {
    background-color: ${({theme:t})=>t.colors.neutral0};
  }

  &:active,
  &.selected {
    color: ${({theme:t})=>t.colors.primary700};
    background-color: ${({theme:t})=>t.colors.neutral0};
    border-color: ${({theme:t})=>t.colors.primary700};
  }
`,V={postResponse:90*24*60*60*1e3,postFirstDismissal:7*24*60*60*1e3,postSubsequentDismissal:90*24*60*60*1e3,display:5*60*1e3},Be=[...Array(11).keys()],We=t=>{const{enabled:a,lastResponseDate:s,firstDismissalDate:r,lastDismissalDate:d}=t;return a===!1?!1:s?Date.now()-new Date(s).getTime()>=V.postResponse:d?Date.now()-new Date(d).getTime()>=V.postSubsequentDismissal:r?Date.now()-new Date(r).getTime()>=V.postFirstDismissal:!0},Fe=()=>{const t=(0,T.useTheme)(),{formatMessage:a}=(0,F.Z)(),{npsSurveySettings:s,setNpsSurveySettings:r}=(0,Oe.$)(),[d,u]=e.useState(!1),E=(0,o.useNotification)(),{currentEnvironment:m,strapiVersion:h}=(0,o.useAppInfo)(),{mutate:c,isLoading:M}=(0,C.useMutation)(async g=>{const y=await fetch("https://analytics.strapi.io/submit-nps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!y.ok)throw new Error("Failed to submit NPS survey");return y},{onSuccess(){r(g=>({...g,lastResponseDate:new Date,firstDismissalDate:null,lastDismissalDate:null})),u(!0),setTimeout(()=>{N(!1)},3e3)},onError(){E({type:"warning",message:a({id:"notification.error"})})}}),[k,N]=e.useState(We(s)),[G,B]=e.useState(!1);if(e.useEffect(()=>{const g=setTimeout(()=>{B(!0)},V.display);return()=>{clearTimeout(g)}},[]),!G||!k)return null;const R=({npsSurveyRating:g,npsSurveyFeedback:y})=>{const{email:x}=o.auth.getUserInfo();c({email:x,rating:g,comment:y,environment:m,version:h,license:window.strapi.projectType})},U=()=>{r(g=>{const y={...g,lastResponseDate:null};return g.firstDismissalDate?y.lastDismissalDate=new Date:y.firstDismissalDate=new Date,y}),N(!1)};return e.createElement(b.h,null,e.createElement(ie.Formik,{initialValues:{npsSurveyFeedback:"",npsSurveyRating:null},onSubmit:R,validationSchema:Y.Ry({npsSurveyFeedback:Y.Z_(),npsSurveyRating:Y.Rx().required()})},({values:g,handleChange:y,setFieldValue:x})=>e.createElement(ie.Form,{name:"npsSurveyForm"},e.createElement(p.k,{hasRadius:!0,direction:"column",padding:4,borderColor:"primary200",background:"neutral0",shadow:"popupShadow",position:"fixed",bottom:0,left:"50%",transform:"translateX(-50%)",zIndex:t.zIndices[2],width:"50%"},d?e.createElement(f.Z,{fontWeight:"semiBold"},a({id:"app.components.NpsSurvey.feedback-response",defaultMessage:"Thank you very much for your feedback!"})):e.createElement(v.x,{as:"fieldset",width:"100%"},e.createElement(p.k,{justifyContent:"space-between",width:"100%"},e.createElement(v.x,{marginLeft:"auto",marginRight:"auto"},e.createElement(f.Z,{fontWeight:"semiBold",as:"legend"},a({id:"app.components.NpsSurvey.banner-title",defaultMessage:"How likely are you to recommend Strapi to a friend or colleague?"}))),e.createElement(ae.h,{onClick:U,"aria-label":a({id:"app.components.NpsSurvey.dismiss-survey-label",defaultMessage:"Dismiss survey"}),icon:e.createElement(Q.Z,null)})),e.createElement(p.k,{gap:2,marginTop:2,marginBottom:2,justifyContent:"center"},e.createElement(f.Z,{variant:"pi",textColor:"neutral600"},a({id:"app.components.NpsSurvey.no-recommendation",defaultMessage:"Not at all likely"})),Be.map(i=>e.createElement(Ne,{key:i,className:g.npsSurveyRating===i?"selected":null,hasRadius:!0,background:"primary100",borderColor:"primary200",color:"primary600",position:"relative",cursor:"pointer"},e.createElement(se.Q,{htmlFor:`nps-survey-rating-${i}-input`},e.createElement(oe.T,null,e.createElement(be._,{type:"radio",id:`nps-survey-rating-${i}-input`,name:"npsSurveyRating",checked:g.npsSurveyRating===i,onChange:L=>x("npsSurveyRating",parseInt(L.target.value,10)),value:i})),i))),e.createElement(f.Z,{variant:"pi",textColor:"neutral600"},a({id:"app.components.NpsSurvey.happy-to-recommend",defaultMessage:"Extremely likely"}))),g.npsSurveyRating!==null&&e.createElement(p.k,{direction:"column"},e.createElement(v.x,{marginTop:2},e.createElement(se.Q,{htmlFor:"npsSurveyFeedback",fontWeight:"semiBold",fontSize:2},a({id:"app.components.NpsSurvey.feedback-question",defaultMessage:"Do you have any suggestion for improvements?"}))),e.createElement(v.x,{width:"62%",marginTop:3,marginBottom:4},e.createElement(ke.g,{id:"npsSurveyFeedback",width:"100%",onChange:y},g.npsSurveyFeedback)),e.createElement(w.z,{marginBottom:2,type:"submit",loading:M},a({id:"app.components.NpsSurvey.submit-feedback",defaultMessage:"Submit Feedback"}))))))))};var Ge=n(67621),Ue=n(92241),H=n(49402),S=n(51447),Ze=n(33812),re=n.n(Ze),$e=n(99571),le=n(45553),je=n(70627),l=n.n(je);const ze=(0,T.default)(p.k)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
`,ce=({onClose:t,onSkip:a,children:s,hideSkip:r})=>{const{formatMessage:d}=(0,F.Z)();return e.createElement(b.h,null,e.createElement(ze,{onClick:t,padding:8,justifyContent:"center"},e.createElement(le.i,{onEscape:t},e.createElement(p.k,{direction:"column",alignItems:"stretch",background:"neutral0",width:(0,o.pxToRem)(660),shadow:"popupShadow",hasRadius:!0,padding:4,gap:8,role:"dialog","aria-modal":!0,onClick:u=>u.stopPropagation()},e.createElement(p.k,{justifyContent:"flex-end"},e.createElement(ae.h,{onClick:t,"aria-label":d({id:"app.utils.close-label",defaultMessage:"Close"}),icon:e.createElement(Q.Z,null)})),e.createElement(v.x,{paddingLeft:7,paddingRight:7,paddingBottom:r?8:0},s),!r&&e.createElement(p.k,{justifyContent:"flex-end"},e.createElement(w.z,{variant:"tertiary",onClick:a},d({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})))))))};ce.propTypes={children:l().node.isRequired,onClose:l().func.isRequired,onSkip:l().func.isRequired,hideSkip:l().bool.isRequired};const Ke=ce;var de=n(53274),$=n(16334),J=n(43234);const we=T.default.li`
  list-style: disc;
  &::marker {
    color: ${({theme:t})=>t.colors.neutral800};
  }
`,ue=({id:t,defaultMessage:a})=>{const{formatMessage:s}=(0,F.Z)();return e.createElement(p.k,{direction:"column",alignItems:"stretch",gap:4,paddingBottom:6},s({id:t,defaultMessage:a},{documentationLink:Ve,b:He,p:Qe,light:Ye,ul:Je,li:Xe}))},Ve=t=>e.createElement(f.Z,{as:"a",textColor:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters"},t),He=t=>e.createElement(f.Z,{fontWeight:"semiBold"},t),Qe=t=>e.createElement(f.Z,null,t),Ye=t=>e.createElement(f.Z,{textColor:"neutral600"},t),Je=t=>e.createElement(v.x,{paddingLeft:6},e.createElement("ul",null,t)),Xe=t=>e.createElement(we,null,t);ue.propTypes={id:l().string.isRequired,defaultMessage:l().string.isRequired};const qe=ue;var _e=n(2364);const X=({number:t,last:a,type:s})=>e.createElement(v.x,{paddingTop:3,paddingBottom:a?0:3},e.createElement(_e.Z,{number:t,type:s}));X.defaultProps={number:void 0,last:!1,type:""},X.propTypes={number:l().number,last:l().bool,type:l().string};const pe=X,q=({title:t,content:a,cta:s,onCtaClick:r,sectionIndex:d,stepIndex:u,hasSectionAfter:E})=>{const{formatMessage:m}=(0,F.Z)(),h=d>0,c=u>0,M=d+1;return e.createElement(e.Fragment,null,e.createElement(p.k,{alignItems:"stretch"},e.createElement(p.k,{marginRight:8,justifyContent:"center",minWidth:(0,o.pxToRem)(30)},h&&e.createElement(J.Z,{type:$.hx,minHeight:(0,o.pxToRem)(24)})),e.createElement(f.Z,{variant:"sigma",textColor:"primary600"},m({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"}))),e.createElement(p.k,null,e.createElement(p.k,{marginRight:8,minWidth:(0,o.pxToRem)(30)},e.createElement(pe,{number:d+1,type:c?$.hx:$.lW})),e.createElement(f.Z,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",as:"h3",id:"title"},m(t))),e.createElement(p.k,{alignItems:"stretch"},e.createElement(p.k,{marginRight:8,direction:"column",justifyContent:"center",minWidth:(0,o.pxToRem)(30)},E&&e.createElement(e.Fragment,null,e.createElement(J.Z,{type:$.hx}),c&&e.createElement(pe,{number:M+1,type:$.lW,last:!0}))),e.createElement(v.x,null,e.createElement(qe,{...a}),s&&(s.target?e.createElement(o.LinkButton,{endIcon:e.createElement(de.Z,null),onClick:r,to:s.target},m(s.title)):e.createElement(w.z,{endIcon:e.createElement(de.Z,null),onClick:r},m(s.title))))),c&&E&&e.createElement(v.x,{paddingTop:3},e.createElement(p.k,{marginRight:8,justifyContent:"center",width:(0,o.pxToRem)(30)},e.createElement(J.Z,{type:$.hx,minHeight:(0,o.pxToRem)(24)}))))};q.defaultProps={currentStep:null,cta:void 0},q.propTypes={sectionIndex:l().number.isRequired,stepIndex:l().number.isRequired,hasSectionAfter:l().bool.isRequired,content:l().shape({id:l().string.isRequired,defaultMessage:l().string.isRequired}).isRequired,cta:l().shape({target:l().string,title:l().shape({id:l().string.isRequired,defaultMessage:l().string.isRequired})}),currentStep:l().string,onCtaClick:l().func.isRequired,title:l().shape({id:l().string.isRequired,defaultMessage:l().string.isRequired}).isRequired};const et=q;var me=n(61815);const ge={stepContent:null,sectionIndex:null,stepIndex:null,hasSectionAfter:!1,hasStepAfter:!1},tt=(t=ge,a)=>(0,me.ZP)(t,s=>{switch(a.type){case"UPDATE_MODAL":{s.stepContent=a.content,s.sectionIndex=a.newSectionIndex,s.stepIndex=a.newStepIndex,s.hasSectionAfter=a.newHasSectionAfter,s.hasStepAfter=a.newHasStepAfter;break}default:return s}}),nt=()=>{const{currentStep:t,guidedTourState:a,setCurrentStep:s,setStepState:r,isGuidedTourVisible:d,setSkipped:u}=(0,o.useGuidedTour)(),[E,m]=(0,e.useState)(t),[{stepContent:h,sectionIndex:c,stepIndex:M,hasSectionAfter:k,hasStepAfter:N},G]=(0,e.useReducer)(tt,ge),{trackUsage:B}=(0,o.useTracking)();(0,e.useEffect)(()=>{if(!t){m(!1);return}const[g]=re()(a,t);m(!g&&d)},[t,a,d]),(0,e.useEffect)(()=>{if(t){const[g]=re()($e.Z,t),y=Object.keys(a),[x,i]=t.split("."),L=y.indexOf(x),j=Object.keys(a[x]).indexOf(i),en=L<y.length-1,tn=j<Object.keys(a[x]).length-1;G({type:"UPDATE_MODAL",content:g,newSectionIndex:L,newStepIndex:j,newHasSectionAfter:en,newHasStepAfter:tn})}},[t,a]);const R=()=>{r(t,!0),B(h.trackingEvent),s(null)},U=()=>{u(!0),s(null),B("didSkipGuidedtour")};return E&&h?e.createElement(Ke,{hideSkip:!N&&!k,onSkip:U,onClose:R},e.createElement(et,{...h,onCtaClick:R,currentStep:t,sectionIndex:c,stepIndex:M,hasSectionAfter:k})):null};var he=n(84366),at=n(27074),st=n(44240),ot=n(71335),_=n(5267),fe=n(36395),it=n(49296),rt=n(65216),lt=n(25711),ct=n(30984),dt=n(68285),z=n(47533);const ut=(0,T.default)(v.x)`
  width: ${150/16}rem;
  position: absolute;
  bottom: ${({theme:t})=>t.spaces[9]};
  left: ${({theme:t})=>t.spaces[5]};
`,Ee=(0,T.default)(z.NavLink)`
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:t})=>`${t.spaces[2]} ${t.spaces[4]}`};
  border-radius: ${({theme:t})=>t.spaces[1]};

  &:hover {
    background: ${({theme:t,logout:a})=>a?t.colors.danger100:t.colors.primary100};
    text-decoration: none;
  }

  svg {
    path {
      fill: ${({theme:t})=>t.colors.danger600};
    }
  }
`,ye=({generalSectionLinks:t,pluginsSectionLinks:a})=>{const s=(0,e.useRef)(),[r,d]=(0,e.useState)(!1),{logos:{menu:u}}=(0,P.um)(),[E,m]=(0,o.usePersistentState)("navbar-condensed",!1),{userDisplayName:h}=(0,o.useAppInfo)(),{formatMessage:c}=(0,F.Z)(),{trackUsage:M}=(0,o.useTracking)(),{pathname:k}=(0,S.TH)(),N=(0,S.k6)(),{post:G}=(0,o.getFetchClient)(),B=h.split(" ").map(i=>i.substring(0,1)).join("").substring(0,2),R=()=>d(i=>!i),U=async()=>{await G("/admin/logout"),o.auth.clearAppStorage(),R(),N.push("/auth/login")},g=i=>{!i.currentTarget.contains(i.relatedTarget)&&i.relatedTarget?.parentElement?.id!=="main-nav-user-button"&&d(!1)},y=(i=null)=>{M("willNavigate",{from:k,to:i})},x=c({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"});return e.createElement(at.$,{condensed:E},e.createElement(st.D,{as:z.NavLink,workplace:c({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"}),title:x,icon:e.createElement("img",{src:u.custom||u.default,alt:c({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"})})}),e.createElement(he.i,null),e.createElement(ot._,null,e.createElement(_.O,{as:z.NavLink,to:"/content-manager",icon:e.createElement(ct.Z,null),onClick:()=>y("/content-manager")},c({id:"global.content-manager",defaultMessage:"Content manager"})),a.length>0?e.createElement(fe.y,{label:c({id:"app.components.LeftMenu.plugins",defaultMessage:"Plugins"})},a.map(i=>{const L=i.icon;return e.createElement(_.O,{as:z.NavLink,to:i.to,key:i.to,icon:e.createElement(L,null),onClick:()=>y(i.to)},c(i.intlLabel))})):null,t.length>0?e.createElement(fe.y,{label:c({id:"app.components.LeftMenu.general",defaultMessage:"General"})},t.map(i=>{const L=i.icon;return e.createElement(_.O,{as:z.NavLink,badgeContent:i.notificationsCount>0&&i.notificationsCount.toString()||void 0,to:i.to,key:i.to,icon:e.createElement(L,null),onClick:()=>y(i.to)},c(i.intlLabel))})):null),e.createElement(it.q,null,e.createElement(rt.r,{id:"main-nav-user-button",ref:s,onClick:R,initials:B},h),r&&e.createElement(ut,{onBlur:g,padding:1,shadow:"tableShadow",background:"neutral0",hasRadius:!0},e.createElement(le.i,{onEscape:R},e.createElement(p.k,{direction:"column",alignItems:"stretch",gap:0},e.createElement(Ee,{tabIndex:0,onClick:R,to:"/me"},e.createElement(f.Z,null,c({id:"global.profile",defaultMessage:"Profile"}))),e.createElement(Ee,{tabIndex:0,onClick:U,to:"/auth/login"},e.createElement(f.Z,{textColor:"danger600"},c({id:"app.components.LeftMenu.logout",defaultMessage:"Logout"})),e.createElement(dt.Z,null))))),e.createElement(lt.w,{onClick:()=>m(i=>!i)},c(E?{id:"app.components.LeftMenu.expand",defaultMessage:"Expand the navbar"}:{id:"app.components.LeftMenu.collapse",defaultMessage:"Collapse the navbar"}))))};ye.propTypes={generalSectionLinks:l().array.isRequired,pluginsSectionLinks:l().array.isRequired};const pt=ye;var mt=n(23886);const gt=(0,T.default)(v.x)`
  flex: 1;
`,ve=({children:t,sideNav:a})=>{const{formatMessage:s}=(0,F.Z)();return e.createElement(v.x,{background:"neutral100"},e.createElement(mt.z,null,s({id:"skipToContent",defaultMessage:"Skip to content"})),e.createElement(p.k,{alignItems:"flex-start"},a,e.createElement(gt,null,t)))};ve.propTypes={children:l().node.isRequired,sideNav:l().node.isRequired};const ht=ve;var ft=n(63128),ee=n(50703),Et=n(8990),yt=n(50862),vt=n(13317),Tt=n(64820);const St=n.p+"19eb2dfcf2603eb55733.png";var Ct=n(42108),Mt=n(13789);const Rt=[{label:{id:"app.components.Onboarding.link.build-content",defaultMessage:"Build a content architecture"},href:"https://www.youtube.com/watch?v=G9GjN0RxhkE",duration:"5:48"},{label:{id:"app.components.Onboarding.link.manage-content",defaultMessage:"Add & manage content"},href:"https://www.youtube.com/watch?v=DEZw4KbybAI",duration:"3:18"},{label:{id:"app.components.Onboarding.link.manage-media",defaultMessage:"Manage media"},href:"https://www.youtube.com/watch?v=-61MuiMQb38",duration:"3:41"}],Te={href:"https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq",label:{id:"app.components.Onboarding.link.more-videos",defaultMessage:"Watch more videos"}},It=[{label:{id:"global.documentation",defaultMessage:"documentation"},href:"https://docs.strapi.io",icon:Ct.Z},{label:{id:"app.static.links.cheatsheet",defaultMessage:"cheatsheet"},href:"https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf",icon:Mt.Z}],At=(0,T.default)(w.z)`
  border-radius: 50%;
  padding: ${({theme:t})=>t.spaces[3]};
  /* Resetting 2rem height defined by Button component */
  height: 100%;
`,Pt=(0,T.default)(p.k)`
  transform: translate(-50%, -50%);
`,Dt=(0,T.default)(p.k)`
  text-decoration: none;

  :focus-visible {
    outline-offset: ${({theme:t})=>`-${t.spaces[1]}`};
  }

  :hover {
    background: ${({theme:t})=>t.colors.primary100};

    /* Hover style for the number displayed */
    ${f.Z}:first-child {
      color: ${({theme:t})=>t.colors.primary500};
    }

    /* Hover style for the label */
    ${f.Z}:nth-child(1) {
      color: ${({theme:t})=>t.colors.primary600};
    }
  }
`,xt=T.default.img`
  width: ${({theme:t})=>t.spaces[10]};
  height: ${({theme:t})=>t.spaces[8]};
  /* Same overlay used in ModalLayout */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
  border-radius: ${({theme:t})=>t.borderRadius};
`,Se=(0,T.default)(f.Z)`
  /* line height of label and watch more to 1 so they can be better aligned visually */
  line-height: 1;
`,Ce=(0,T.default)(Se)`
  text-decoration: none;

  :hover {
    text-decoration: underline;
  }
`,Lt=()=>{const t=(0,e.useRef)(),[a,s]=(0,e.useState)(!1),{formatMessage:r}=(0,F.Z)(),{communityEdition:d}=(0,o.useAppInfo)(),u=()=>{s(m=>!m)},E=[...It,{label:{id:"Settings.application.get-help",defaultMessage:"Get help"},icon:yt.Z,href:d?"https://discord.strapi.io":"https://support.strapi.io/support/home"}];return e.createElement(v.x,{as:"aside",position:"fixed",bottom:2,right:2},e.createElement(At,{"aria-label":r(a?{id:"app.components.Onboarding.help.button-close",defaultMessage:"Close help menu"}:{id:"app.components.Onboarding.help.button",defaultMessage:"Open help menu"}),onClick:u,ref:t},e.createElement(ee.J,{as:a?Q.Z:vt.Z,color:"buttonNeutral0"})),a&&e.createElement(b.h,null,e.createElement(Et.VY,{padding:0,onDimiss:u,source:t,placement:"top-end",spacing:12},e.createElement(p.k,{justifyContent:"space-between",paddingBottom:5,paddingRight:6,paddingLeft:6,paddingTop:6},e.createElement(Se,{fontWeight:"bold"},r({id:"app.components.Onboarding.title",defaultMessage:"Get started videos"})),e.createElement(Ce,{as:"a",href:Te.href,target:"_blank",rel:"noreferrer noopener",variant:"pi",textColor:"primary600"},r(Te.label))),e.createElement(he.i,null),Rt.map(({href:m,duration:h,label:c},M)=>e.createElement(Dt,{as:"a",href:m,target:"_blank",rel:"noreferrer noopener",key:m,hasRadius:!0,paddingTop:4,paddingBottom:4,paddingLeft:6,paddingRight:11},e.createElement(v.x,{paddingRight:5},e.createElement(f.Z,{textColor:"neutral200",variant:"alpha"},M+1)),e.createElement(v.x,{position:"relative"},e.createElement(xt,{src:St,alt:""}),e.createElement(Pt,{position:"absolute",top:"50%",left:"50%",background:"primary600",borderRadius:"50%",justifyContent:"center",width:6,height:6},e.createElement(ee.J,{as:Tt.Z,color:"buttonNeutral0",width:3,height:3}))),e.createElement(p.k,{direction:"column",alignItems:"start",paddingLeft:4},e.createElement(f.Z,{fontWeight:"bold"},r(c)),e.createElement(oe.T,null,":"),e.createElement(f.Z,{textColor:"neutral600",variant:"pi"},h)))),e.createElement(p.k,{direction:"column",alignItems:"stretch",gap:2,paddingLeft:5,paddingTop:2,paddingBottom:5},E.map(({label:m,href:h,icon:c})=>e.createElement(p.k,{gap:3,key:h},e.createElement(ee.J,{as:c,color:"primary600"}),e.createElement(Ce,{as:"a",href:h,target:"_blank",rel:"noreferrer noopener",variant:"sigma",textColor:"primary700"},r(m))))))))},bt=(0,e.lazy)(()=>Promise.all([n.e(6838),n.e(8385),n.e(994)]).then(n.bind(n,52838))),kt=(0,e.lazy)(()=>n.e(3981).then(n.bind(n,96753))),Ot=(0,e.lazy)(()=>n.e(3677).then(n.bind(n,4186))),Nt=(0,e.lazy)(()=>n.e(5516).then(n.bind(n,91278))),Me=(0,e.lazy)(()=>Promise.resolve().then(n.bind(n,23337))),Bt=(0,e.lazy)(()=>n.e(9501).then(n.bind(n,50068))),Wt=(0,e.lazy)(()=>n.e(9497).then(n.bind(n,3549))),Re=(0,e.lazy)(()=>n.e(5895).then(n.bind(n,39223)).then(t=>({default:t.SettingsPage}))),Ft=()=>{const{trackUsage:t}=(0,o.useTracking)(),a=(0,H.I0)(),s=(0,H.v9)(r=>r.admin_app.status);(0,e.useEffect)(()=>{s==="init"&&(t("didAccessAuthenticatedAdministration"),a({type:ft.eb}))},[s])},Gt=()=>{Ft();const{isLoading:t,generalSectionLinks:a,pluginsSectionLinks:s}=(0,P.H9)(),{menu:r}=(0,o.useStrapiApp)(),{showTutorials:d}=(0,P.um)(),u=(0,e.useMemo)(()=>r.filter(E=>E.Component).map(({to:E,Component:m,exact:h})=>(0,O.ot)(m,E,h)),[r]);return t?e.createElement(o.LoadingIndicatorPage,null):e.createElement(Ge.DndProvider,{backend:Ue.PD},e.createElement(ht,{sideNav:e.createElement(pt,{generalSectionLinks:a,pluginsSectionLinks:s})},e.createElement(e.Suspense,{fallback:e.createElement(o.LoadingIndicatorPage,null)},e.createElement(S.rs,null,e.createElement(S.AW,{path:"/",component:kt,exact:!0}),e.createElement(S.AW,{path:"/me",component:Wt,exact:!0}),e.createElement(S.AW,{path:"/content-manager",component:bt}),u,e.createElement(S.AW,{path:"/settings/:settingId",component:Re}),e.createElement(S.AW,{path:"/settings",component:Re,exact:!0}),e.createElement(S.AW,{path:"/marketplace"},e.createElement(Nt,null)),e.createElement(S.AW,{path:"/list-plugins",exact:!0},e.createElement(Ot,null)),e.createElement(S.AW,{path:"/404",component:Me}),e.createElement(S.AW,{path:"/500",component:Bt}),e.createElement(S.AW,{path:"",component:Me}))),e.createElement(nt,null),d&&e.createElement(Lt,null)))},Ut=t=>({plugins:Object.keys(t).reduce((a,s)=>(a[s]={...t[s]},a),{})});var Zt=n(43433),$t=n.n(Zt);const Ie={plugins:null},jt=(t=Ie,a)=>(0,me.ZP)(t,s=>{switch(a.type){case"SET_PLUGIN_READY":{$t()(s,["plugins",a.pluginId,"isReady"],!0);break}default:return s}}),zt=()=>{const{plugins:t}=(0,o.useStrapiApp)(),[{plugins:a},s]=(0,e.useReducer)(jt,Ie,()=>Ut(t)),r=(0,e.useRef)(u=>{s({type:"SET_PLUGIN_READY",pluginId:u})});if(Object.keys(a).some(u=>a[u].isReady===!1)){const u=Object.keys(a).reduce((E,m)=>{const h=a[m].initializer;if(h){const c=a[m].pluginId;E.push(e.createElement(h,{key:c,setPlugin:r.current}))}return E},[]);return e.createElement(e.Fragment,null,u,e.createElement(o.LoadingIndicatorPage,null))}return e.createElement(Gt,null)};var Ae=n(58633);const Kt=()=>({type:Ae.l}),wt=t=>({type:Ae.m,permissions:t}),Pe=({children:t,permissions:a,refetchPermissions:s})=>{const{allPermissions:r}=(0,H.v9)(u=>u.rbacProvider),d=(0,H.I0)();return(0,e.useEffect)(()=>(d(wt(a)),()=>{d(Kt())}),[a,d]),r?e.createElement(o.RBACProviderContext.Provider,{value:{allPermissions:r,refetchPermissions:s}},t):e.createElement(o.LoadingIndicatorPage,null)};Pe.propTypes={children:l().node.isRequired,permissions:l().array.isRequired,refetchPermissions:l().func.isRequired};const Vt=Pe;var Ht=n(96487),te=n.n(Ht);const De=(t,a)=>!te().valid(t)||!te().valid(a)?!1:te().lt(t,a),xe=A.i8,Qt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),{get:ne}=(0,o.getFetchClient)(),Yt=async t=>{try{const a=await fetch("https://api.github.com/repos/strapi/strapi/releases/latest");if(!a.ok)throw new Error("Failed to fetch latest Strapi version.");const{tag_name:s}=await a.json();return De(xe,s)&&Qt&&t({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${s}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)}),s}catch{return xe}},Jt=async()=>{try{const{data:t,headers:a}=await ne("/admin/information");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},Xt=async()=>{try{const{data:t,headers:a}=await ne("/admin/users/me/permissions");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},qt=async()=>{try{const{data:{data:{roles:t}}}=await ne("/admin/users/me");return t}catch(t){throw new Error(t)}},Le=A.i8,_t=()=>{const{setGuidedTourVisibility:t}=(0,o.useGuidedTour)(),a=(0,o.useNotification)(),s=o.auth.getUserInfo(),r=Z()(s,"username")||(0,O.Pp)(s.firstname,s.lastname),[d,u]=(0,e.useState)(r),[E,m]=(0,e.useState)(null),{showReleaseNotification:h}=(0,P.um)(),[{data:c,status:M},{data:k,isLoading:N},{data:G,status:B,refetch:R,isFetching:U},{data:g}]=(0,C.useQueries)([{queryKey:"app-infos",queryFn:Jt},{queryKey:"strapi-release",queryFn:()=>Yt(a),enabled:h,initialData:Le},{queryKey:"admin-users-permission",queryFn:Xt,initialData:[]},{queryKey:"user-roles",queryFn:qt}]),y=De(Le,k);return(0,e.useEffect)(()=>{g&&g.find(({code:j})=>j==="strapi-super-admin")&&c?.autoReload&&t(!0)},[g,c,t]),(0,e.useEffect)(()=>{(async()=>{const j=await(0,O.Qy)(s);m(j)})()},[s]),N||(U||M==="loading"||B==="loading")?e.createElement(o.LoadingIndicatorPage,null):M==="error"?e.createElement("div",null,"error..."):e.createElement(o.AppInfoProvider,{...c,userId:E,latestStrapiReleaseTag:k,setUserDisplayName:u,shouldUpdateStrapi:y,userDisplayName:d},e.createElement(Vt,{permissions:G,refetchPermissions:R},e.createElement(Fe,null),e.createElement(zt,null)))}},43234:(K,I,n)=>{n.d(I,{Z:()=>O});var e=n(27279),o=n(93415),W=n(57537),Z=n(70627),C=n.n(Z),A=n(16334);const P=({type:D,...b})=>e.createElement(o.x,{width:(0,W.pxToRem)(2),height:"100%",background:D===A.VM?"neutral300":"primary500",hasRadius:!0,...b});P.defaultProps={type:A.VM},P.propTypes={type:C().oneOf([A.lW,A.hx,A.VM])};const O=P},2364:(K,I,n)=>{n.d(I,{Z:()=>p});var e=n(27279),o=n(10701),W=n(50703),Z=n(21395),C=n(57537),A=n(59082),P=n(70627),O=n.n(P),D=n(16334);const b=({type:f,number:v})=>f===D.hx?e.createElement(o.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,C.pxToRem)(30),height:(0,C.pxToRem)(30),justifyContent:"center"},e.createElement(W.J,{as:A.Z,"aria-hidden":!0,width:(0,C.pxToRem)(16),color:"neutral0"})):f===D.lW?e.createElement(o.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,C.pxToRem)(30),height:(0,C.pxToRem)(30),justifyContent:"center"},e.createElement(Z.Z,{fontWeight:"semiBold",textColor:"neutral0"},v)):e.createElement(o.k,{borderColor:"neutral500",borderWidth:"1px",borderStyle:"solid",padding:2,borderRadius:"50%",width:(0,C.pxToRem)(30),height:(0,C.pxToRem)(30),justifyContent:"center"},e.createElement(Z.Z,{fontWeight:"semiBold",textColor:"neutral600"},v));b.defaultProps={number:void 0,type:D.VM},b.propTypes={number:O().number,type:O().oneOf([D.lW,D.hx,D.VM])};const p=b},16334:(K,I,n)=>{n.d(I,{VM:()=>W,hx:()=>o,lW:()=>e});const e="isActive",o="isDone",W="isNotDone"},99571:(K,I,n)=>{n.d(I,{Z:()=>o});const o={contentTypeBuilder:{home:{title:{id:"app.components.GuidedTour.home.CTB.title",defaultMessage:"\u{1F9E0} Build the content structure"},cta:{title:{id:"app.components.GuidedTour.home.CTB.cta.title",defaultMessage:"Go to the Content type Builder"},type:"REDIRECT",target:"/plugins/content-type-builder"},trackingEvent:"didClickGuidedTourHomepageContentTypeBuilder"},create:{title:{id:"app.components.GuidedTour.CTB.create.title",defaultMessage:"\u{1F9E0} Create a first Collection type"},content:{id:"app.components.GuidedTour.CTB.create.content",defaultMessage:"<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>"},cta:{title:{id:"app.components.GuidedTour.CTB.create.cta.title",defaultMessage:"Build a Collection type"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep1CollectionType"},success:{title:{id:"app.components.GuidedTour.CTB.success.title",defaultMessage:"Step 1: Completed \u2705"},content:{id:"app.components.GuidedTour.CTB.success.content",defaultMessage:"<p>Good going!</p><b>\u26A1\uFE0F What would you like to share with the world?</b>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didCreateGuidedTourCollectionType"}},contentManager:{home:{title:{id:"app.components.GuidedTour.home.CM.title",defaultMessage:"\u26A1\uFE0F What would you like to share with the world?"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didClickGuidedTourHomepageContentManager"},create:{title:{id:"app.components.GuidedTour.CM.create.title",defaultMessage:"\u26A1\uFE0F Create content"},content:{id:"app.components.GuidedTour.CM.create.content",defaultMessage:"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>\u{1F4A1} Quick tip - Don't forget to hit publish on the content you create.</p>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep2ContentManager"},success:{title:{id:"app.components.GuidedTour.CM.success.title",defaultMessage:"Step 2: Completed \u2705"},content:{id:"app.components.GuidedTour.CM.success.content",defaultMessage:"<p>Awesome, one last step to go!</p><b>\u{1F680}  See content in action</b>"},cta:{title:{id:"app.components.GuidedTour.CM.success.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didCreateGuidedTourEntry"}},apiTokens:{home:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},cta:{title:{id:"app.components.GuidedTour.home.apiTokens.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didClickGuidedTourHomepageApiTokens"},create:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},content:{id:"app.components.GuidedTour.apiTokens.create.content",defaultMessage:"<p>Generate an authentication token here and retrieve the content you just created.</p>"},cta:{title:{id:"app.components.GuidedTour.apiTokens.create.cta.title",defaultMessage:"Generate an API Token"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep3ApiTokens"},success:{title:{id:"app.components.GuidedTour.apiTokens.success.title",defaultMessage:"Step 3: Completed \u2705"},content:{id:"app.components.GuidedTour.apiTokens.success.content",defaultMessage:"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>"},trackingEvent:"didGenerateGuidedTourApiTokens"}}}}}]);
